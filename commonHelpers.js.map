{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n\nexport const refs = {\n  formEl: document.querySelector('form'),\n  inputEl: document.querySelector('input'),\n  listEl: document.querySelector('ul'),\n  loaderEl: document.querySelector('.loader'),\n};\n\nexport function showLoader() {\n  refs.loaderEl.style.display = 'flex';\n}\nexport function hideLoader() {\n  refs.loaderEl.style.display = 'none';\n}\n\nexport function showLightBox() {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionSelector: 'img',\n    captionPosition: 'bottom',\n    captionsData: 'alt',\n  });\n  lightbox.on('show.simplelightbox');\n  lightbox.refresh();\n}","import iziToast from 'izitoast';\nimport { searchImages } from 'pixabay-api' ;\nimport { hideLoader } from './render-functions';\nimport { refs } from './render-functions';\nimport { showLightBox } from './render-functions';\n\nexport function fetchData() {\n  const searchedItem = refs.inputEl.value.trim();\n  const API_KEY = '42152818-0d69fd49112a74751654c42bc';\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${searchedItem}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          position: 'bottomCenter',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const markup = data.hits\n          .map(data => {\n            return `<li class=\"list-item\"><a href=\"${data.largeImageURL}\">\n          <img class=\"item-img\" src=\"${data.webformatURL}\" alt=\"${data.tags}\" ></a><div class=\"container\"><p><b>Likes: </b><br>${data.likes}</p><p><b>Views: </b><br>${data.views}</p><p><b>Comments: </b><br>${data.comments}</p><p><b>Downloads: </b><br>${data.downloads}</p>\n          </li></div>`;\n          })\n          .join('');\n\n        refs.listEl.insertAdjacentHTML('beforeend', markup);\n        showLightBox();\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}","import { showLoader } from './js/render-functions';\nimport { refs } from './js/render-functions';\nimport { fetchData } from './js/pixabay-api';\nimport { searchImages } from 'pixabay-api';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nrefs.formEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  refs.listEl.innerHTML = '';\n  showLoader();\n  fetchData();\n});"],"names":["refs","showLoader","hideLoader","showLightBox","lightbox","SimpleLightbox","fetchData","searchedItem","response","data","iziToast","markup","error","evt"],"mappings":"6vBAEO,MAAMA,EAAO,CAClB,OAAQ,SAAS,cAAc,MAAM,EACrC,QAAS,SAAS,cAAc,OAAO,EACvC,OAAQ,SAAS,cAAc,IAAI,EACnC,SAAU,SAAS,cAAc,SAAS,CAC5C,EAEO,SAASC,GAAa,CAC3BD,EAAK,SAAS,MAAM,QAAU,MAChC,CACO,SAASE,GAAa,CAC3BF,EAAK,SAAS,MAAM,QAAU,MAChC,CAEO,SAASG,GAAe,CAC7B,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,gBAAiB,SACjB,aAAc,KAClB,CAAG,EACDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CAClB,CCnBO,SAASE,GAAY,CAC1B,MAAMC,EAAeP,EAAK,QAAQ,MAAM,KAAI,EAE5C,MACE,qEAA6CO,CAAY,0DAC1D,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,SAAU,eACV,QACE,0EACZ,CAAS,MACI,CACL,MAAMC,EAASF,EAAK,KACjB,IAAIA,GACI,kCAAkCA,EAAK,aAAa;AAAA,uCAChCA,EAAK,YAAY,UAAUA,EAAK,IAAI,sDAAsDA,EAAK,KAAK,4BAA4BA,EAAK,KAAK,+BAA+BA,EAAK,QAAQ,gCAAgCA,EAAK,SAAS;AAAA,sBAEhQ,EACA,KAAK,EAAE,EAEVT,EAAK,OAAO,mBAAmB,YAAaW,CAAM,EAClDR,GACD,CACP,CAAK,EACA,MAAMS,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbV,GACN,CAAK,CACL,CCpCAF,EAAK,OAAO,iBAAiB,SAAUa,GAAO,CAC5CA,EAAI,eAAc,EAClBb,EAAK,OAAO,UAAY,GACxBC,IACAK,GACF,CAAC"}